<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rowley - weather map</title>
    <!--API KEYS-->
    <script src="js/keys.js"></script>
    <!-- Mapbox JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js'></script>
    <script src="js/mapbox-geocoder-utils.js"></script>
    <!-- Mapbox CSS -->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css' rel='stylesheet'/>
    <link rel="stylesheet" href="css/weather_map.css">
</head>
<body>
<header class="container">
    <div class="row">
        <div class="column header">
            <h1>WEATHER MAP</h1>
            <div class="forecast-header">
                <div class="forecast-header-wrapper">
                    <span class="forecast-header-show">Showing Weather for:</span>
                    <div class="forecast-header-city"></div>
                </div>
            </div>
            <input type="text" value="San Antonio" class="search" id="search" placeholder="Enter a City">
            <button id="search-submit" class="button">SEARCH</button>
        </div>
    </div>
</header>
<main class="container">
    <div class="row">
        <div class="column">
            <div class="forecast-cards">
            </div>
            <div class="map-container">
                <div>

                </div>
                <div class="side-bar ">
                    <p class="side-bar-head" id="history-head">HISTORY</p>
                    <div class="history-col side-bar-items">

                    </div>
                </div>
                <div class="map" id="map"></div>
                <div class="side-bar">
                    <p class="side-bar-head" id="saved-head">SAVED</p>
                    <div class="saved-col side-bar-items">

                    </div>
                </div>

                <!--                <button id="zoom1">-</button>-->
                <!--                <button id="zoom2">+</button>-->
            </div>
        </div>
    </div>
</main>

<!-- JQuery -->
<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<!--MY JS-->
<script src="js/weather_map.js"></script>
<!--DEMO STUFF-->

<script>
    "use strict";

    // Base URL for forecast API
    // const OPEN_WEATHER_URL = 'https://api.openweathermap.org/data/2.5/forecast';

    // Simple way to create URL for request based on coordinates
    // function getWeatherURL(lat, lon) {
    //     return `${OPEN_WEATHER_URL}?lat=${lat}&lon=${lon}&units=imperial&appid=${OPEN_WEATHER_APPID}`;
    // }

    // const ALAMO_COORDINATES = ['29.4260', '-98.4861'];

    // TODO: log URL

    // console.log(getWeatherURL(ALAMO_COORDINATES[0], ALAMO_COORDINATES[1]));

    // const URL = getWeatherURL(...ALAMO_COORDINATES);

    // TODO: log full response from API

    // $.ajax(URL).done(data => {
    //     console.log(data);
    // }).fail(console.error);


    // TODO: log various parts of the API

    // $.ajax(URL).done(data => {
    //     console.log(data);
    //     // TODO: log the city name
    //     // TODO: log the first three-hour forecast block
    //     // TODO: log the humidity for the first three-hour block
    // }).fail(console.error);


    // TODO: log the humidity for all days

    // $.ajax(getWeatherURL(...ALAMO_COORDINATES))
    //     .done((data) => {
    //
    //         data.list.forEach((day, index) => {
    //             if (index % 8 === 0) {
    //                 console.log(day.main.humidity);
    //             }
    //         });
    //
    //         // OR
    //
    //         for (let i = 0; i < data.list.length; i += 8) {
    //             console.log(data.list[i].main.humidity);
    //         }
    //
    //     })
    //     .fail(console.error);


    // TODO: log the min and max temp for each day

    // $.ajax(getWeatherURL(...ALAMO_COORDINATES))
    //     .done(data => {
    //         console.log(data);
    //         const minMaxTemps = returnMinMaxTemps(data);
    //         minMaxTemps.forEach(minMaxTemp => {
    //             console.log(minMaxTemp);
    //         });
    //     })
    //     .fail(console.error);

</script>
</body>
</html>